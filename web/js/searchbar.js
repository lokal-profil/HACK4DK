$(function() {
    /**
     * the element
     */
    var $ui = $('#searchheader');
	
    /**
     * on focus and on click display the dropdown, 
     * and change the arrow image
     */
    $ui.find('.sb_input').bind('focus click',function(){
	$ui.find('.sb_down')
	    .addClass('sb_up')
	    .removeClass('sb_down')
	    .andSelf()
	    .find('.sb_dropdown')
	    .show();
    });
    
    /**
     * on mouse leave hide the dropdown, 
     * and change the arrow image
     */
    $ui.bind('mouseleave',function(){
	$ui.find('.sb_up')
	    .addClass('sb_down')
	    .removeClass('sb_up')
	    .andSelf()
	    .find('.sb_dropdown')
	    .hide();
    });
    
    /**
     * selecting all checkboxes
     */
    $ui.find('.sb_dropdown').find('label[for="all"]').prev().bind('click',function(){
	$(this).parent().siblings().find(':checkbox').attr('checked',this.checked).attr('disabled',this.checked);
    });
});